<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-138421421-1', 'auto');
ga('send', 'pageview');
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<!-- End Google Analytics -->


    
<!-- Tencent Speed -->
<script>var _speedMark = new Date()</script>
<!-- End Tencent Speed -->
<!-- Tencent Analysis -->
<script async src="//tajs.qq.com/stats?sId=66510270"></script>
<!-- End Tencent Analysis -->


    
<!-- Baidu Tongji -->
<script>var _hmt = _hmt || []</script>
<script async src="//hm.baidu.com/hm.js?07222f0600614bc49c0c7d2d262a60f0"></script>
<!-- End Baidu Tongji -->




    <meta charset="utf-8">
    
    
    
    
    <title>vue组件 | 正版乔 | 算法工程师 &amp; ISBN收集者 &amp; 树莓派</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content>
    <meta name="description" content="概念 组件是视图层的基本组成单元。 组件是一个单独且可复用的功能模块的封装。 一个组件包括开始标签和结束标签，标签上可以写属性，并对属性赋值。内容则写在两个标签之内。 根节点为 ，这个  下只能且必须有一个根  组件。这是vue单文件组件规范。 一个组件的 data 选项必须是一个函数。    1234567891011121314&amp;lt;template&amp;gt;    &amp;lt;view&amp;gt;">
<meta name="keywords" content="机器学习">
<meta property="og:type" content="article">
<meta property="og:title" content="vue组件">
<meta property="og:url" content="http://blog.feelyou.top/posts/3711662242.html">
<meta property="og:site_name" content="正版乔">
<meta property="og:description" content="概念 组件是视图层的基本组成单元。 组件是一个单独且可复用的功能模块的封装。 一个组件包括开始标签和结束标签，标签上可以写属性，并对属性赋值。内容则写在两个标签之内。 根节点为 ，这个  下只能且必须有一个根  组件。这是vue单文件组件规范。 一个组件的 data 选项必须是一个函数。    1234567891011121314&amp;lt;template&amp;gt;    &amp;lt;view&amp;gt;">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2021-06-01T14:34:04.198Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="vue组件">
<meta name="twitter:description" content="概念 组件是视图层的基本组成单元。 组件是一个单独且可复用的功能模块的封装。 一个组件包括开始标签和结束标签，标签上可以写属性，并对属性赋值。内容则写在两个标签之内。 根节点为 ，这个  下只能且必须有一个根  组件。这是vue单文件组件规范。 一个组件的 data 选项必须是一个函数。    1234567891011121314&amp;lt;template&amp;gt;    &amp;lt;view&amp;gt;">
    
        <link rel="alternate" type="application/atom+xml" title="正版乔" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/kabuda.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">正版乔</h5>
          <a href="mailto:qiaohaoforever@gmail.com" title="qiaohaoforever@gmail.com" class="mail">qiaohaoforever@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/books"  >
                <i class="icon icon-lg icon-book"></i>
                books
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/qiaohaoforever" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://weibo.com/2788615604" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.twitter.com/qiaohaoforever" target="_blank" >
                <i class="icon icon-lg icon-twitter"></i>
                Twitter
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/timeline"  >
                <i class="icon icon-lg icon-link"></i>
                时光机
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">vue组件</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">vue组件</h1>
        <h5 class="subtitle">
            
                <time datetime="2021-05-28T00:18:01.000Z" itemprop="datePublished" class="page-time">
  2021-05-28
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#概念"><span class="post-toc-number">1.</span> <span class="post-toc-text">概念</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#插件市场组件导入"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">插件市场组件导入</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#优势"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">优势</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#注册"><span class="post-toc-number">2.</span> <span class="post-toc-text">注册</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#全局注册"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">全局注册</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#局部注册"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">局部注册</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#props"><span class="post-toc-number">3.</span> <span class="post-toc-text">props</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#传递静态或动态-Prop"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">传递静态或动态 Prop</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#单向数据流"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">单向数据流</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#ref"><span class="post-toc-number">4.</span> <span class="post-toc-text">ref</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#自定义事件"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">自定义事件</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#将原生事件绑定到组件"><span class="post-toc-number">4.1.1.</span> <span class="post-toc-text">将原生事件绑定到组件</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#sync-修饰符"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">.sync 修饰符</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#插槽"><span class="post-toc-number">5.</span> <span class="post-toc-text">插槽</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#编译作用域"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">编译作用域</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#默认内容"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">默认内容</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#具名插槽"><span class="post-toc-number">5.2.1.</span> <span class="post-toc-text">具名插槽</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#具名插槽的缩写"><span class="post-toc-number">5.3.</span> <span class="post-toc-text">具名插槽的缩写</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#作用域插槽"><span class="post-toc-number">5.4.</span> <span class="post-toc-text">作用域插槽</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#独占默认插槽的缩写语法"><span class="post-toc-number">5.5.</span> <span class="post-toc-text">独占默认插槽的缩写语法</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#解构插槽-Prop"><span class="post-toc-number">5.6.</span> <span class="post-toc-text">解构插槽 Prop</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#小程序不支持列表"><span class="post-toc-number">6.</span> <span class="post-toc-text">小程序不支持列表</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#命名限制"><span class="post-toc-number">7.</span> <span class="post-toc-text">命名限制</span></a></li></ol>
        </nav>
    </aside>


<article id="post-vue-study-component"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">vue组件</h1>
        <div class="post-meta">
            <time class="post-time" title="2021-05-28 08:18:01" datetime="2021-05-28T00:18:01.000Z"  itemprop="datePublished">2021-05-28</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h1><ul>
<li>组件是视图层的基本组成单元。</li>
<li>组件是一个单独且可复用的功能模块的封装。</li>
<li>一个组件包括开始标签和结束标签，标签上可以写属性，并对属性赋值。内容则写在两个标签之内。<ul>
<li>根节点为 <template>，这个 <template> 下只能且必须有一个根 <view> 组件。这是vue单文件组件规范。</view></template></template></li>
<li>一个组件的 data 选项必须是一个函数。</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;view&gt;&#123;&#123;userName&#125;&#125;&lt;/view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                &quot;userName&quot;:&quot;foo&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>基础组件是内置在uni-app框架中的，包括view、text、input、button、video等几十个基础组件，列表详见：<a href="https://uniapp.dcloud.net.cn/component/README?id=%e5%9f%ba%e7%a1%80%e7%bb%84%e4%bb%b6" target="_blank" rel="noopener">uni-app基础组件</a></p>
<h2 id="插件市场组件导入"><a href="#插件市场组件导入" class="headerlink" title="插件市场组件导入"></a>插件市场组件导入</h2><p>把这个uni-rate组件导入到你的uni-app项目下，在需要的vue页面里引用它，就可以在指定的地方显示出这个五角星组件。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 在index.vue页面引用 uni-rate 组件--&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;uni-rate&gt;&lt;/uni-rate&gt;&lt;!-- 这里会显示一个五角星，并且点击后会自动亮星 --&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h2><ul>
<li>可以将组件进行任意次数的复用。</li>
<li>合理的划分组件，有助于提高应用性能。</li>
<li>代码更加方便组织和管理，并且扩展性也更强，便于多人协同开发。</li>
<li>组件化开发能大幅度提高应用开发效率、测试性、复用性等。</li>
</ul>
<h1 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h1><p>在注册一个组件的时候，我们始终需要给它一个名字。 定义组件名的方式有两种：</p>
<p><strong>使用 kebab-case</strong><br>当使用 kebab-case (短横线分隔命名) 定义一个组件时，你也必须在引用这个自定义元素时使用 kebab-case，例如 <code>&lt;my-component-name&gt;</code>。</p>
<p><strong>使用 PascalCase</strong><br>当使用 PascalCase (首字母大写命名) 定义一个组件时，你在引用这个自定义元素时两种命名法都可以使用。 也就是说 <code>&lt;my-component-name&gt;</code> 和 <code>&lt;MyComponentName&gt;</code> 都是可接受的。</p>
<p>在uni-app工程根目录下的 <code>components</code> 目录，创建并存放自定义组件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">│─components                符合vue组件规范的uni-app组件目录</span><br><span class="line">│  └─componentA             符合‘components/组件名称/组件名称.vue’目录结构，easycom方式可直接使用组件</span><br><span class="line">│          └─componentA.vue    可复用的componentA组件</span><br><span class="line">│  └─component-a.vue      可复用的component<span class="_">-a</span>组件</span><br></pre></td></tr></table></figure></p>
<h2 id="全局注册"><a href="#全局注册" class="headerlink" title="全局注册"></a>全局注册</h2><p>uni-app 支持配置全局组件，需在<code>main.js</code> 里进行全局注册，注册后就可在所有页面里使用该组件。</p>
<p><strong>注意</strong></p>
<ul>
<li>Vue.component 的第一个参数必须是静态的字符串。</li>
<li>nvue 页面暂不支持全局组件。</li>
</ul>
<ol>
<li><p><code>main.js</code> 里进行全局导入和注册</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import pageHead from &apos;./components/page-head.vue&apos;</span><br><span class="line">Vue.component(&apos;page-head&apos;,pageHead)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>index.vue</code> 里可直接使用组件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;page-head&gt;&lt;/page-head&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="局部注册"><a href="#局部注册" class="headerlink" title="局部注册"></a>局部注册</h2><p>局部注册之前，在需要引用该组件的页面，导入你想使用的组件。</p>
<p><strong>页面引入组件方式</strong></p>
<p>如下通过两种方式导入一个角标的组件库，<a href="https://ext.dcloud.net.cn/plugin?id=21" target="_blank" rel="noopener">详见</a>，推荐使用 <code>easycom</code> 方式引入。</p>
<ol>
<li><strong>传统vue规范：</strong> 在 <code>index.vue</code> 页面中，通过 <code>import</code> 方式引入组件 ，在 <code>components</code> 选项中定义你想要使用的组件。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 在index.vue引入 uni-badge 组件--&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;uni-badge text=&quot;1&quot;&gt;&lt;/uni-badge&gt;&lt;!-- 3.使用组件 --&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    import uniBadge from &apos;@/components/uni-badge/uni-badge.vue&apos;;//1.导入组件（这步属于传统vue规范，但在uni-app的easycom下可以省略这步）</span><br><span class="line">    export default &#123;</span><br><span class="line">        components:&#123;uniBadge &#125;//2.注册组件（这步属于传统vue规范，但在uni-app的easycom下可以省略这步） </span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>对于 <code>components</code> 对象中的每个 <code>property</code> 来说，其 property 名就是自定义元素的名字，其 property 值就是这个组件的选项对象。</p>
<p>在对象中放一个类似 uniBadge 的变量名其实是 uniBadge : uniBadge 的缩写，即这个变量名同时是：</p>
<ul>
<li>用在模板中的自定义元素的名称</li>
<li>包含了这个组件选项的变量名(仅支持驼峰法命名)</li>
</ul>
<p>2.通过<strong>uni-app的easycom</strong>： 将组件引入精简为一步。只要组件安装在项目的 components 目录下，并符合 components/组件名称/组件名称.vue 目录结构。就可以不用引用、注册，直接在页面中使用。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 在index.vue引入 uni-badge 组件--&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;uni-badge text=&quot;1&quot;&gt;&lt;/uni-badge&gt;&lt;!-- 3.使用组件 --&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    // 这里不用import引入，也不需要在components内注册uni-badge组件。template里就可以直接用</span><br><span class="line">    export default &#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p><strong>easycom是自动开启的</strong>，不需要手动开启，有需求时可以在 <code>pages.json</code> 的 <code>easycom</code> 节点进行个性化设置，<a href="https://uniapp.dcloud.io/collocation/pages?id=easycom" target="_blank" rel="noopener">详见</a>。</p>
</li>
<li><p>不管components目录下安装了多少组件，easycom打包后会自动剔除没有使用的组件，对组件库的使用尤为友好。</p>
</li>
</ul>
<p>组件是 <code>vue</code> 技术中非常重要的部分，组件使得与ui相关的轮子可以方便的制造和共享，进而使得 <code>vue</code> 使用者的开发效率大幅提升。</p>
<p><code>uni-app</code> 搭建了组件的插件市场，有很多现成的组件，若下载符合components/组件名称/组件名称.vue目录结构的组件，均可直接使用。<a href="https://ext.dcloud.net.cn/" target="_blank" rel="noopener">uni-app插件市场</a></p>
<blockquote>
<p>uni-app只支持 vue单文件组件（.vue 组件）。其他的诸如：动态组件，自定义 <code>render</code> ，和  <code>&lt;script type=&quot;text/x-template&quot;&gt;</code> 字符串模版等，在非H5端不支持。</p>
</blockquote>
<h1 id="props"><a href="#props" class="headerlink" title="props"></a>props</h1><p><code>props</code> 可以是数组或对象，用于接收来自父组件的数据。<code>props</code> 可以是简单的数组，或者使用对象作为替代，对象允许配置高级选项，如类型检测、自定义验证和设置默认值。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>选项</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td><code>String 、 Number 、 Boolean 、 Array 、 Object 、 Date 、 Function 、 Symbol</code> ，任何自定义构造函数、或上述内容组成的数组</td>
<td>会检查一个 <code>prop</code> 是否是给定的类型，否则抛出警告</td>
</tr>
<tr>
<td>default</td>
<td>any</td>
<td>为该 <code>prop</code> 指定一个默认值。如果该 <code>prop</code> 没有被传入，则换做用这个值。对象或数组的默认值必须从一个工厂函数返回。</td>
</tr>
<tr>
<td>required</td>
<td>Boolean</td>
<td>定义该 <code>prop</code> 是否是必填项</td>
</tr>
<tr>
<td>validator</td>
<td>Function</td>
<td>自定义验证函数会将该 <code>prop</code> 的值作为唯一的参数代入。在非生产环境下，如果该函数返回一个 <code>false</code> 的值 (也就是验证失败)，一个控制台警告将会被抛出</td>
</tr>
</tbody>
</table>
</div>
<p><strong>示例：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;!-- 我是子组件componentA --&gt;</span><br><span class="line">        &lt;view&gt;&#123;&#123;age&#125;&#125;&lt;/view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        props: &#123;</span><br><span class="line">            // 检测类型 + 其他验证</span><br><span class="line">            age: &#123;</span><br><span class="line">                type: Number,</span><br><span class="line">                default: 0,</span><br><span class="line">                required: true,</span><br><span class="line">                validator: function(value) &#123;</span><br><span class="line">                    return value &gt;= 0</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;!-- 我是父组件 --&gt;</span><br><span class="line">        &lt;componentA :age=&quot;10&quot;&gt;&lt;/componentA&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
<h2 id="传递静态或动态-Prop"><a href="#传递静态或动态-Prop" class="headerlink" title="传递静态或动态 Prop"></a>传递静态或动态 Prop</h2><ul>
<li><p>可以像这样给 <code>prop</code> 传入一个静态的值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;blog-post title=&quot;My journey with Vue&quot;&gt;&lt;/blog-post&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>可以通过<code>v-bind</code> 动态赋值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 动态赋予一个变量的值 --&gt;</span><br><span class="line">&lt;blog-post v-bind:title=&quot;post.title&quot;&gt;&lt;/blog-post&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 包含该 prop 没有值的情况在内，都意味着 `true`。--&gt;</span><br><span class="line">&lt;blog-post is-published&gt;&lt;/blog-post&gt;</span><br><span class="line"></span><br><span class="line">&lt;blog-post v-bind:is-published=&quot;post.isPublished&quot;&gt;&lt;/blog-post&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>传入一个对象的所有 <code>property</code><br>如果你想要将一个对象的所有 <code>property</code> 都作为 <code>prop</code> 传入，你可以使用不带参数的 <code>v-bind</code> (取代 v-bind:prop-name)。例如，对于一个给定的对象 <code>post</code> ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">post: &#123;</span><br><span class="line">    id: 1,</span><br><span class="line">    title: &apos;My Journey with Vue&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;blog-post v-bind=&quot;post&quot;&gt;&lt;/blog-post&gt;</span><br><span class="line">&lt;!-- 上面的模板等价于： --&gt;</span><br><span class="line">&lt;blog-post</span><br><span class="line">    v-bind:id=&quot;post.id&quot;</span><br><span class="line">    v-bind:title=&quot;post.title&quot;</span><br><span class="line">&gt;&lt;/blog-post&gt;</span><br></pre></td></tr></table></figure>
<h2 id="单向数据流"><a href="#单向数据流" class="headerlink" title="单向数据流"></a>单向数据流</h2><p>所有的 prop 都使得其父子 prop 之间形成了一个<code>单向下行绑定</code>：父级 prop 的更新会向下流动到子组件中，但是反过来则不行。这样会防止从子组件意外变更父级组件的状态，从而导致你的应用的数据流向难以理解。</p>
<blockquote>
<p>每次父级组件发生变更时，子组件中所有的 prop 都将会刷新为最新的值。这意味着你不应该在一个子组件内部改变 prop。如果你这样做了，Vue 会在浏览器的控制台中发出警告。</p>
</blockquote>
<ul>
<li>这个 <code>prop</code> 用来传递一个初始值；这个子组件接下来希望将其作为一个本地的 <code>prop</code> 数据来使用。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;!-- 我是子组件componentA --&gt;</span><br><span class="line">        &lt;view&gt;&#123;&#123;title&#125;&#125;&lt;/view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        props: [&apos;title&apos;]</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;!-- 我是父组件 --&gt;</span><br><span class="line">        &lt;componentA :title=&quot;title&quot;&gt;&lt;/componentA&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                title:&quot;hello&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>这个 <code>prop</code> 以一种原始的值传入且需要进行转换。在这种情况下，最好使用这个 <code>prop</code> 的值来定义一个计算属性：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;!-- 我是子组件componentA --&gt;</span><br><span class="line">        &lt;view&gt;&#123;&#123;normalizedSize&#125;&#125;&lt;/view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        props: [&apos;size&apos;],</span><br><span class="line">        computed: &#123;</span><br><span class="line">            normalizedSize: function () &#123;</span><br><span class="line">                return this.size.toLowerCase()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;!-- 我是父组件 --&gt;</span><br><span class="line">        &lt;componentA :size=&quot;size&quot;&gt;&lt;/componentA&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                size:&quot;M&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h1 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h1><p>被用来给元素或子组件注册引用信息，引用信息将会注册在父组件的 <code>$refs</code> 对象上。</p>
<p>如果在普通的 DOM 元素上使用，引用指向的就是 DOM 元素；如果用在子组件上，引用就指向组件实例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//非H5端不支持通过this.$refs.content来获取view实例</span><br><span class="line">&lt;view ref=&quot;content&quot;&gt;hello&lt;/view&gt;</span><br><span class="line"></span><br><span class="line">//支持通过this.$refs.child来获取child-component实例</span><br><span class="line">&lt;child-component ref=&quot;child&quot;&gt;&lt;/child-component&gt;</span><br></pre></td></tr></table></figure></p>
<p>当 <code>ref</code> 和 <code>v-for</code> 一起用于元素或组件的时候，引用信息将是包含 DOM 节点或组件实例的数组。</p>
<p><strong>关于 ref 注册时间的重要说明：</strong></p>
<p>因为 <code>ref</code> 本身是作为渲染结果被创建的，在初始渲染的时候你不能访问它们，它们还不存在！<code>$refs</code> 也不是响应式的，因此你不应该用它在模板中做数据绑定。</p>
<p><strong>子组件ref</strong><br>尽管存在 prop 和事件，有的时候你仍可能需要在 JavaScript 里直接访问一个子组件。 访问子组件实例或子元素，通过 ref 为子组件赋予一个 ID 引用，在vue的js中可通过<strong>this.$refs.XXX</strong>来获取到组件对象。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;base-input ref=&quot;usernameInput&quot;&gt;&lt;/base-input&gt;</span><br></pre></td></tr></table></figure></p>
<p>你已经定义了这个 ref 的组件里，你可以使用：<code>this.$refs.usernameInput</code>来访问这个<code>&lt;base-input&gt;</code>实例。</p>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//base-input子组件页面</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;input :focus=&quot;isFocus&quot; type=&quot;text&quot; placeholder=&quot;请输入内容&quot; /&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name:&quot;base-input&quot;,</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                &quot;isFocus&quot;:false</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            focus()&#123;</span><br><span class="line">                this.isFocus = true</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>允许父级组件通过下面的代码聚焦<code>&lt;base-input&gt;</code>里的输入框：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//index 父组件页面</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;base-input ref=&quot;usernameInput&quot;&gt;&lt;/base-input&gt;</span><br><span class="line">        &lt;button type=&quot;default&quot; @click=&quot;getFocus&quot;&gt;获取焦点&lt;/button&gt; </span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        methods:&#123;</span><br><span class="line">            getFocus()&#123;</span><br><span class="line">                //通过组件定义的ref调用focus方法</span><br><span class="line">                this.$refs.usernameInput.focus()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>注意</strong></p>
<blockquote>
<p>非H5端只能用于获取自定义组件，不能用于获取内置组件实例（如：view、text）</p>
</blockquote>
<h2 id="自定义事件"><a href="#自定义事件" class="headerlink" title="自定义事件"></a>自定义事件</h2><h3 id="将原生事件绑定到组件"><a href="#将原生事件绑定到组件" class="headerlink" title="将原生事件绑定到组件"></a>将原生事件绑定到组件</h3><p>你可能有很多次想要在一个组件的根元素上直接监听一个原生事件。 这时，你可以使用 @事件的<code>.native</code> 修饰符：</p>
<p><strong>注意：</strong>在app、小程序端和h5端表现不一致，h5端获取到的是浏览器原生事件。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;!-- 我是父组件 --&gt;</span><br><span class="line">        &lt;componentA @click.native=&quot;clickComponentA&quot; style=&quot;height: 200px;&quot;&gt;&lt;/componentA&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        methods: &#123;</span><br><span class="line">            clickComponentA()&#123;</span><br><span class="line">                console.log(&quot;clickComponentA&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;!-- 我是子组件 --&gt;</span><br><span class="line">        &lt;view type=&quot;default&quot; @click.stop=&quot;open&quot; style=&quot;height: 30px;&quot;&gt;点击&lt;/view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        methods:&#123;</span><br><span class="line">            open()&#123;</span><br><span class="line">                console.log(&quot;open&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h2 id="sync-修饰符"><a href="#sync-修饰符" class="headerlink" title=".sync 修饰符"></a>.sync 修饰符</h2><p>当一个子组件改变了一个 <code>prop</code> 的值时，这个变化也会同步到父组件中所绑定。 <code>.sync</code> 它会被扩展为一个自动更新父组件属性的 <code>v-on</code> 监听器。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 父组件 --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;syncA :title.sync=&quot;title&quot;&gt;&lt;/syncA&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                title:&quot;hello vue.js&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 子组件 --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;view @click=&quot;changeTitle&quot;&gt;&#123;&#123;title&#125;&#125;&lt;/view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        props: &#123;</span><br><span class="line">            title: &#123;</span><br><span class="line">                default: &quot;hello&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            changeTitle()&#123;</span><br><span class="line">                //触发一个更新事件</span><br><span class="line">                this.$emit(&apos;update:title&apos;,&quot;uni-app&quot;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h1 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h1><p>Vue 实现了一套内容分发的 API，将 <code>slot</code> 元素作为承载分发内容的出口。</p>
<p>它允许你像这样合成组件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;componentA&gt;</span><br><span class="line">            Your Profile</span><br><span class="line">        &lt;/componentA&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>
<p>在 <code>&lt;componentA&gt;</code> 的模板中可能会写为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;!-- 我是子组件componentA --&gt;</span><br><span class="line">        &lt;view &gt;&#123;&#123;title&#125;&#125;&lt;/view&gt;</span><br><span class="line">        &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>
<p>当组件渲染的时候，<code>&lt;slot&gt;&lt;/slot&gt;</code> 将会被替换为“Your Profile”。插槽内可以包含任何模板代码，包括 <code>HTML</code> ：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;!-- 我是父组件 --&gt;</span><br><span class="line">        &lt;componentA&gt;</span><br><span class="line">            &lt;view&gt;Your Profile&lt;/view&gt;</span><br><span class="line">            &lt;!-- 添加一个 uni-icons 图标 --&gt;</span><br><span class="line">            &lt;uni-icons type=&quot;contact&quot; size=&quot;30&quot;&gt;&lt;/uni-icons&gt;</span><br><span class="line">        &lt;/componentA&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>
<p>如果 <code>&lt;componentA&gt;</code> 的 <code>template</code> 中没有包含一个<code>&lt;slot&gt;</code> 元素，则该组件起始标签和结束标签之间的任何内容都会被抛弃。</p>
<h2 id="编译作用域"><a href="#编译作用域" class="headerlink" title="编译作用域"></a>编译作用域</h2><p>当你想在一个插槽中使用数据时，例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;navigation-link url=&quot;/profile&quot;&gt;</span><br><span class="line">    Logged in as &#123;&#123; user.name &#125;&#125;</span><br><span class="line">&lt;/navigation-link&gt;</span><br></pre></td></tr></table></figure></p>
<p>该插槽跟模板的其它地方一样可以访问相同的实例 <code>property</code> (也就是相同的“作用域”)，而不能访问 <code>&lt;navigation-link&gt;</code> 的作用域。例如 <code>url</code> 是访问不到的：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;navigation-link url=&quot;/profile&quot;&gt;</span><br><span class="line">    Clicking here will send you to: &#123;&#123; url &#125;&#125;</span><br><span class="line">&lt;!--</span><br><span class="line">    这里的 `url` 会是 undefined，</span><br><span class="line">    因为其 (指该插槽的) 内容是_传递给_ &lt;navigation-link&gt; 的</span><br><span class="line">    而不是在 &lt;navigation-link&gt; 组件*内部*定义的。</span><br><span class="line">--&gt;</span><br><span class="line">&lt;/navigation-link&gt;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>记住规则：父级模板里的所有内容都是在父级作用域中编译的；子模板里的所有内容都是在子作用域中编译的。</p>
</blockquote>
<h2 id="默认内容"><a href="#默认内容" class="headerlink" title="默认内容"></a>默认内容</h2><p>有时为一个插槽设置具体的后备 (也就是默认的) 内容是很有用的，它只会在没有提供内容的时候被渲染。例如在一个 <code>&lt;submit-button&gt;</code> 组件中：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;button type=&quot;submit&quot;&gt;</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">&lt;/button&gt;</span><br></pre></td></tr></table></figure></p>
<p>我们可能希望这个<code>&lt;button&gt;</code>内绝大多数情况下都渲染文本“Submit”。为了将“Submit”作为后备内容，我们可以将它放在 <code>&lt;slot&gt;</code> 标签内：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;button type=&quot;submit&quot;&gt;</span><br><span class="line">    &lt;slot&gt;Submit&lt;/slot&gt;</span><br><span class="line">&lt;/button&gt;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>当我在一个父级组件中使用 <code>&lt;submit-button&gt;</code> 并且不提供任何插槽内容时：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 父级组件：不提供任何插槽内容--&gt;</span><br><span class="line">&lt;submit-button&gt;&lt;/submit-button&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 子组件：后备内容 “Submit” 将会被渲染： --&gt;</span><br><span class="line">&lt;button type=&quot;submit&quot;&gt;</span><br><span class="line">    Submit</span><br><span class="line">&lt;/button&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>当我在一个父级组件中使用 <code>&lt;submit-button&gt;</code> 并且提供插槽内容时：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 父级组件：提供插槽内容--&gt;</span><br><span class="line">&lt;submit-button&gt;</span><br><span class="line">    Save</span><br><span class="line">&lt;/submit-button&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 子组件：则这个提供的内容将会被渲染从而取代后备内容： --&gt;</span><br><span class="line">&lt;button type=&quot;submit&quot;&gt;</span><br><span class="line">    Save</span><br><span class="line">&lt;/button&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="具名插槽"><a href="#具名插槽" class="headerlink" title="具名插槽"></a>具名插槽</h3><p>需要多个插槽时，可以利用 <code>&lt;slot&gt;</code> 元素的一个特殊的特性：name 来定义具名插槽</p>
<ul>
<li><p><code>&lt;base-layout&gt;</code> 子组件模板：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view  class=&quot;container&quot;&gt;</span><br><span class="line">        &lt;header&gt;</span><br><span class="line">            &lt;!-- 我们希望把页头放这里 --&gt;</span><br><span class="line">            &lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt;</span><br><span class="line">        &lt;/header&gt;</span><br><span class="line">        &lt;main&gt;</span><br><span class="line">            &lt;!-- 我们希望把主要内容放这里 --&gt;</span><br><span class="line">            &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">        &lt;/main&gt;</span><br><span class="line">        &lt;footer&gt;</span><br><span class="line">            &lt;!-- 我们希望把页脚放这里 --&gt;</span><br><span class="line">            &lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt;</span><br><span class="line">        &lt;/footer&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在向具名插槽提供内容的时候，我们可以在一个 <code>&lt;template&gt;</code> 元素上使用 <code>v-slot</code> 指令，并以 <code>v-slot</code> 的参数的形式提供其名称：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">    &lt;!-- 父组件使用子组件`&lt;base-layout&gt;`，节点上使用slot特性： --&gt;</span><br><span class="line">        &lt;base-layout&gt;</span><br><span class="line">            &lt;template v-slot:header&gt;</span><br><span class="line">                &lt;view&gt;Here might be a page title&lt;/view&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">            &lt;template v-slot:default&gt;</span><br><span class="line">                &lt;view&gt;A paragraph for the main content.&lt;/view&gt;</span><br><span class="line">                &lt;view&gt;And another one.&lt;/view&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">            &lt;template v-slot:footer&gt;</span><br><span class="line">                &lt;view&gt;Here&apos;s some contact info&lt;/view&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">        &lt;/base-layout&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>现在 <code>&lt;template&gt;</code> 元素中的所有内容都将会被传入相应的插槽。任何没有被包裹在带有 v-slot 的 <code>&lt;template&gt;</code> 中的内容都会被视为默认插槽的内容。</p>
<blockquote>
<p>v-slot 只能添加在 <template> 上一个不带 name 的 <slot> 出口会带有隐含的名字 “default” 。</slot></template></p>
</blockquote>
<h2 id="具名插槽的缩写"><a href="#具名插槽的缩写" class="headerlink" title="具名插槽的缩写"></a>具名插槽的缩写</h2><p>跟 v-on 和 v-bind 一样，<code>v-slot</code> 也有缩写，即把参数之前的所有内容 (<code>v-slot:</code>) 替换为字符 <code>#</code>。例如 <code>v-slot:header</code> 可以被重写为 <code>#header</code> ：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">    &lt;!-- 父组件使用子组件`&lt;base-layout&gt;`，节点上使用slot特性： --&gt;</span><br><span class="line">        &lt;base-layout&gt;</span><br><span class="line">            &lt;template #header&gt;</span><br><span class="line">                &lt;view&gt;Here might be a page title&lt;/view&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">            &lt;view&gt;A paragraph for the main content.&lt;/view&gt;</span><br><span class="line">            &lt;view&gt;And another one.&lt;/view&gt;</span><br><span class="line"></span><br><span class="line">            &lt;template #footer&gt;</span><br><span class="line">                &lt;view&gt;Here&apos;s some contact info&lt;/view&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">        &lt;/base-layout&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h2><p>在作用域插槽内，父组件可以拿到子组件的数据。子组件可以在 <code>slot</code> 标签上绑定属性值。</p>
<p>有时让插槽内容能够访问子组件中才有的数据是很有用的。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 子组件 &lt;current-user&gt;--&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;slot&gt;&#123;&#123; user.lastName &#125;&#125;&lt;/slot&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>
<p>我们可能想换掉默认内容，用名而非姓来显示。如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;current-user&gt;</span><br><span class="line">            &#123;&#123; user.firstName &#125;&#125;</span><br><span class="line">        &lt;/current-user&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>
<p>然而上述代码不会正常工作，因为只有<code>&lt;current-user&gt;</code>组件可以访问到 user 而我们提供的内容是在父级渲染的。</p>
<p>为了让 user 在父级的插槽内容中可用，我们可以将 user 作为 <code>&lt;slot&gt;</code> 元素的一个 <code>attribute</code> 绑定上去：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 子组件 &lt;current-user&gt;--&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;slot :user=&quot;user&quot;&gt;&#123;&#123;user.lastName&#125;&#125;&lt;/slot&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                user:&#123;</span><br><span class="line">                    &quot;lastName&quot;:&quot;bar&quot;,</span><br><span class="line">                    &quot;firstName&quot;:&quot;foo&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>绑定在 <code>&lt;slot&gt;</code> 元素上的 <code>attribute</code> 被称为<strong>插槽 prop</strong>。现在在父级作用域中，我们可以使用带值的 <code>v-slot</code> 来定义我们提供的插槽 <code>prop</code> 的名字：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;current-user&gt;</span><br><span class="line">            &lt;template v-slot:default=&quot;slotProps&quot;&gt;</span><br><span class="line">                &#123;&#123; slotProps.user.firstName &#125;&#125;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">        &lt;/current-user&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>
<p>在这个例子中，我们选择将包含所有插槽 <code>prop</code> 的对象命名为 <code>slotProps</code> ，但你也可以使用任意你喜欢的名字。</p>
<h2 id="独占默认插槽的缩写语法"><a href="#独占默认插槽的缩写语法" class="headerlink" title="独占默认插槽的缩写语法"></a>独占默认插槽的缩写语法</h2><p>就像假定未指明的内容对应默认插槽一样，不带参数的 <code>v-slot</code> 被假定对应默认插槽：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;current-user&gt;</span><br><span class="line">            &lt;template v-slot=&quot;slotProps&quot;&gt;</span><br><span class="line">                &#123;&#123; slotProps.user.firstName &#125;&#125;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">        &lt;/current-user&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>默认插槽的缩写语法不能和具名插槽混用</strong>，因为它会导致作用域不明确：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;!-- 无效，会导致警告 --&gt;</span><br><span class="line">        &lt;current-user v-slot=&quot;slotProps&quot;&gt;</span><br><span class="line">            &#123;&#123; slotProps.user.firstName &#125;&#125;</span><br><span class="line">            &lt;template v-slot:other=&quot;otherSlotProps&quot;&gt;</span><br><span class="line">                slotProps is NOT available here</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">        &lt;/current-user&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>
<p>只要出现多个插槽，请始终为<strong>所有的插槽</strong>使用完整的基于 <code>&lt;template&gt;</code> 的语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;view&gt;</span><br><span class="line">        &lt;current-user&gt;</span><br><span class="line">            &lt;template v-slot:default=&quot;slotProps&quot;&gt;</span><br><span class="line">                &#123;&#123; slotProps.user.firstName &#125;&#125;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">            &lt;template v-slot:other=&quot;otherSlotProps&quot;&gt;</span><br><span class="line">                ...</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">        &lt;/current-user&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="解构插槽-Prop"><a href="#解构插槽-Prop" class="headerlink" title="解构插槽 Prop"></a>解构插槽 Prop</h2><p>作用域插槽的内部工作原理是将你的插槽内容包裹在一个拥有单个参数的函数里：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function (slotProps) &#123;</span><br><span class="line">    // 插槽内容</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这意味着 <code>v-slot</code> 的值实际上可以是任何能够作为函数定义中的参数的 <code>JavaScript</code> 表达式。 所以在支持的环境下 ( 单文件组件 或 现代浏览器)，你也可以使用 ES2015 解构 来传入具体的插槽 <code>prop</code>，如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;current-user v-slot=&quot;&#123; user &#125;&quot;&gt;</span><br><span class="line">    &#123;&#123; user.firstName &#125;&#125;</span><br><span class="line">&lt;/current-user&gt;</span><br></pre></td></tr></table></figure></p>
<p>这样可以使模板更简洁，尤其是在该插槽提供了多个 <code>prop</code> 的时候。它同样开启了 <code>prop</code> 重命名等其它可能，例如将 <code>user</code> 重命名为 <code>person</code> ：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;current-user v-slot=&quot;&#123; user: person &#125;&quot;&gt;</span><br><span class="line">    &#123;&#123; person.firstName &#125;&#125;</span><br><span class="line">&lt;/current-user&gt;</span><br></pre></td></tr></table></figure></p>
<p>你甚至可以定义后备内容，用于插槽 <code>prop</code> 是 <code>undefined</code> 的情形：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;current-user v-slot=&quot;&#123; user = &#123; firstName: &apos;Guest&apos; &#125; &#125;&quot;&gt;</span><br><span class="line">    &#123;&#123; user.firstName &#125;&#125;</span><br><span class="line">&lt;/current-user&gt;</span><br></pre></td></tr></table></figure></p>
<h1 id="小程序不支持列表"><a href="#小程序不支持列表" class="headerlink" title="小程序不支持列表"></a>小程序不支持列表</h1><ul>
<li>作用域插槽（仅支持解构插槽、插槽内不支持复杂表达式且不可使用作用域外数据）</li>
<li>动态组件</li>
<li>异步组件</li>
<li>inline-template</li>
<li>X-Templates</li>
<li>keep-alive（App端也未支持）</li>
<li>transition （可使用 animation 或 CSS 动画替代）</li>
</ul>
<h1 id="命名限制"><a href="#命名限制" class="headerlink" title="命名限制"></a>命名限制</h1><p>在 uni-app 中以下这些作为保留关键字，不可作为组件名。</p>
<ul>
<li>a</li>
<li>canvas</li>
<li>cell</li>
<li>content</li>
<li>countdown</li>
<li>datepicker</li>
<li>div</li>
<li>element</li>
<li>embed</li>
<li>header</li>
<li>image</li>
<li>img</li>
<li>indicator</li>
<li>input</li>
<li>link</li>
<li>list</li>
<li>loading-indicator</li>
<li>loading</li>
<li>marquee</li>
<li>meta</li>
<li>refresh</li>
<li>richtext</li>
<li>script</li>
<li>scrollable</li>
<li>scroller</li>
<li>select</li>
<li>slider-neighbor</li>
<li>slider</li>
<li>slot</li>
<li>span</li>
<li>spinner</li>
<li>style</li>
<li>svg</li>
<li>switch</li>
<li>tabbar</li>
<li>tabheader</li>
<li>template</li>
<li>text</li>
<li>textarea</li>
<li>timepicker</li>
<li>transition-group</li>
<li>transition</li>
<li>video</li>
<li>view</li>
<li>web</li>
</ul>
<p><strong>Tips</strong></p>
<ul>
<li>除以上列表中的名称外，标准的 HTML 及 SVG 标签名也不能作为组件名。</li>
<li>在百度小程序中使用时，不要在 data 内使用 hidden ，可能会导致渲染错误。</li>
<li>methods中不可使用与生命周期同名的方法名。</li>
</ul>
<hr>
<p><strong>参考（不叫参考了，应该是摘抄）</strong><br><a href="https://uniapp.dcloud.io/vue-components?id=%e4%bd%9c%e7%94%a8%e5%9f%9f%e6%8f%92%e6%a7%bd" target="_blank" rel="noopener">https://uniapp.dcloud.io/vue-components?id=%e4%bd%9c%e7%94%a8%e5%9f%9f%e6%8f%92%e6%a7%bd</a></p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2021-06-01T14:34:04.198Z" itemprop="dateUpdated">2021-06-01 22:34:04</time>
</span><br>


        
        转载请注明来源：<a href="/posts/3711662242.html" target="_blank" rel="external">http://blog.feelyou.top/posts/3711662242.html</a>
        
    </div>
    
    <footer>
        <a href="http://blog.feelyou.top">
            <img src="/img/kabuda.jpg" alt="正版乔">
            正版乔
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            

            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.feelyou.top/posts/3711662242.html&title=《vue组件》 — 正版乔&pic=http://blog.feelyou.top/img/kabuda.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.feelyou.top/posts/3711662242.html&title=《vue组件》 — 正版乔&source=正版乔的博客" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.feelyou.top/posts/3711662242.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《vue组件》 — 正版乔&url=http://blog.feelyou.top/posts/3711662242.html&via=http://blog.feelyou.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.feelyou.top/posts/3711662242.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/posts/2650520387.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">The Elements of Statistical Learning</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/posts/2084610834.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">vuejs基础</h4>
      </a>
    </div>
  
</nav>



    

















    <section class="comments" id="comments">
        <div id="gitalk-container"></div>
        <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
        <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
        <script>
            var gitalk = new Gitalk({
                clientID: '9e3d102cde5576e794de',
                clientSecret: '9613cc02890ecd7069d91daffc82bb8630224b38',
                repo: 'qiaohaoforever.github.io',
                owner: 'qiaohaoforever',
                admin: 'qiaohaoforever',
                id: 'Fri May 28 2021 08:18:01 GMT+0800',
                distractionFreeMode: false
                })
                
            gitalk.render('gitalk-container')
        </script>
    </section>





</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>正版乔 &copy; 2018 - 2021</span>
            <span>
                
                <a href="http://www.miitbeian.gov.cn/" target="_blank">京ICP备18045880号</a><br>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>


    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.feelyou.top/posts/3711662242.html&title=《vue组件》 — 正版乔&pic=http://blog.feelyou.top/img/kabuda.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.feelyou.top/posts/3711662242.html&title=《vue组件》 — 正版乔&source=正版乔的博客" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.feelyou.top/posts/3711662242.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《vue组件》 — 正版乔&url=http://blog.feelyou.top/posts/3711662242.html&via=http://blog.feelyou.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.feelyou.top/posts/3711662242.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACK0lEQVR42u3aS26EMBAFwNz/0hMp6wDv2Z4FdrGKmAhcLFr9+/mJr8/fdXU///XqTvK0BRcGBsZrGZ/ba+wFVwdN/ufqvVdnw8DAOIeRvCZ5Qf7MlvTwHAwMDIw4CCZpYptKYmBgYMww8oPefwgMDAyMhNGmevmx2kbb12txDAyMFzJm2mff/vuL8w0MDIyXMD7lNdbQb4ej9akwMDC2ZuSJXbJgcX/oBYnd/QfCwMA4gLGqNdYOBsaSxcuAi4GBsR0jAeQhNS+A2/bcw30MDIwDGGOF6MyoctUyBwYGxjmMmVfmo8pVY8iH8hUDA2M7Rp2EDa2O5SG7DbXFYAADA+O1jKSVP7bhkCeag4XrVWqIgYFxAGOsxdYOPmeaenXXEAMD4+WM/BDtwkRboLbDy39+xcDAOJiRL0PMFLrtJ6sDLgYGxssZM0GwHSfkieZMExADA2Mnxn0gm1+SSFLGdjnsYRKLgYGxHaMtIMd2G/Lkrw3HGBgYpzHWHqVdLFsQvjEwMDZlzKeAa5v7eUKJgYFxJiMPeWOrXfkgsx4zYGBgbM1olyTyNHFmUWOeioGBsRPjU15JK3/sK7aBHgMD4xxGG+baQDyfeiZDVgwMjBMYbZBNgu/3ljYesloMDIytGW1jayZEjiWXGBgYGPnqQ37EJA+dKY//SQ0xMDAwyso4b5DNNO8wMDDOYawaBrQjzPzQi9ttGBgYr2K0pWM+JBgrU9thAwYGxtaMX/16RrwOMDp5AAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };

</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" async></script>




<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
